CREATE TABLE users
(
userID INT NOT NULL AUTO_INCREMENT,
nickName VARCHAR(255),
age  TINYINT,
gender CHAR(1),
email VARCHAR(255) NOT NULL,
os VARCHAR(255),
lastDevice VARCHAR(255), 
wins INT,
totalGames INT,
PRIMARY KEY (userID)

)

CREATE TABLE games
(
gameID INT NOT NULL AUTO_INCREMENT,
state TEXT,
startTime DATETIME NOT NULL,
lastMove TIMESTAMP NOT NULL,
finished TINYINT,
PRIMARY KEY (gameID)

)

CREATE TABLE usersToGames
(
userID int NOT NULL,
gameID int NOT NULL,

FOREIGN KEY (userID) REFERENCES users(userID),
FOREIGN KEY (gameID) REFERENCES games(gameID)
)

CREATE TABLE players
(
playerID int NOT NULL AUTO_INCREMENT,
userID int NOT NULL,
gameID int NOT NULL,
state text,

PRIMARY KEY (playerID),
FOREIGN KEY (userID) REFERENCES users(userID),
FOREIGN KEY (gameID) REFERENCES games(gameID)



)