CREATE TABLE users
(
userID INT NOT NULL AUTO_INCREMENT,
userName VARCHAR(255) NOT NULL,
age  TINYINT,
gender CHAR(1),
email VARCHAR(255) NOT NULL,
os VARCHAR(255),
lastDevice VARCHAR(255), 
wins INT,
totalGames INT,

PRIMARY KEY (userID)

)


CREATE TABLE games
(
gameID INT NOT NULL AUTO_INCREMENT,
state TEXT,
startTime DATETIME NOT NULL,
lastMove TIMESTAMP NOT NULL,
finished TINYINT,

PRIMARY KEY (gameID)

)

CREATE TABLE usersToGames
(
userID INT NOT NULL,
gameID INT NOT NULL,

FOREIGN KEY (userID) REFERENCES users(userID),
FOREIGN KEY (gameID) REFERENCES games(gameID)
)

CREATE TABLE players
(
userID INT NOT NULL,
gameID INT NOT NULL,
state text,

FOREIGN KEY (userID) REFERENCES users(userID),
FOREIGN KEY (gameID) REFERENCES games(gameID)
)

CREATE TABLE login
(
userID INT NOT NULL,
password VARCHAR(255),

PRIMARY KEY (userID),
FOREIGN KEY (userID) REFERENCES users(userID)
)